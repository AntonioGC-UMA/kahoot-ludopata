{"version":3,"sources":["grid.js","socket.js","pantalla-inicio.js","pantalla-espera.js","pantalla-resultados.js","pantalla-pregunta.js","pantalla-respuesta.js","index.js"],"names":["Timer","time","style","borderRadius","background","position","top","right","Grid","columnas","children","display","gridTemplateColumns","gridGap","Row","flexDirection","alignItems","justifyItems","Column","socket","process","PORT","io","Inicio","personas","conectados","setId","setEstado","movil","useMediaQuery","query","portrait","useEffect","once","e","map","elem","disponible","includes","onClick","emit","aspectRatio","textDecoration","Espera","isHost","useState","Normales","Rapidas","Lentas","Dobles","Random","pools","setPools","fetch","then","response","json","data","on","desconectar","off","Object","keys","Resultados","resultados","nombre","votos","Pregunta","pregunta","Respuesta","respuesta","setRespuesta","f","color","App","Host","id","setPregunta","setResultados","estado","setConectados","setTime","c","t","p","res","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.50ef62de.chunk.js","sourcesContent":["import { React } from 'react';\r\n\r\n\r\nexport const mapObject = (obj, f) =>\r\n{\r\n    Object.keys(obj).map(f);\r\n}\r\n\r\n\r\n\r\nexport const Timer = ({time}) =>\r\n{\r\n    return (\r\n        <div style={{borderRadius:\"50%\", background:\"#fdf7e3\", position:\"absolute\", top:\"3%\", right:\"3%\"}}>\r\n            {\r\n                time\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Grid = ({columnas, children}) =>\r\n{\r\n    \r\n    return (\r\n        <div style={{display:\"grid\", gridTemplateColumns:\"repeat(\"+columnas+\", 1fr)\", gridGap:\"2em\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Row = ({children}) =>\r\n{    \r\n    return (\r\n        <div style={{display:\"flex\", flexDirection:\"row\", alignItems:\"center\", justifyItems:\"center\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Column = ({children}) =>\r\n{    \r\n    return (\r\n        <div style={{display:\"flex\", flexDirection:\"column\", alignItems:\"center\", justifyItems:\"center\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}","import io from \"socket.io-client\";\r\n\r\nconst PORT = process.env.PORT || 8080;\r\nexport const socket = io();//io(\"http://kahoot-ludopata.herokuapp.com:\" + PORT);","import { React, useState, useEffect } from 'react';\r\nimport {Grid, User} from \"./grid\"\r\nimport {useMediaQuery} from 'react-responsive';\r\nimport {socket} from './socket';\r\n\r\nexport const Inicio = ({personas, conectados, setId, setEstado}) =>\r\n{\r\n    const movil = useMediaQuery({ query : \"(max-width: 1224px)\"});\r\n    const portrait = useMediaQuery({ query : \"(orientation: portrait)\"});\r\n\r\n    useEffect(() =>\r\n    {\r\n      socket.once(\"conexion aceptada\", (e) => \r\n      {\r\n        setId(e); setEstado(\"esperando\");\r\n      })\r\n    })\r\n\r\n    return (\r\n        <Grid columnas={movil && portrait ? 2 : 5}>\r\n            {\r\n                personas.map((elem) =>\r\n                {\r\n                    const disponible = !conectados.includes(elem);\r\n\r\n                    return (\r\n                        <button key={elem} \r\n                        onClick={() => {if(disponible) {socket.emit(\"conectar\", elem);}}} \r\n                        style={{aspectRatio:\"1/1\",  textDecoration: disponible ? \"none\" : \"line-through\"}}>\r\n                            {elem}\r\n                        </button>\r\n                    )\r\n                })\r\n            }  \r\n        </Grid>\r\n    )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport { Column, Grid, } from './grid';\r\nimport {socket} from './socket';\r\n\r\nexport  const Espera = ({isHost, conectados, setId, setEstado}) =>\r\n{\r\n\r\n    const [pools, setPools] = useState({Normales: false, Rapidas: false, Lentas: false, Dobles: false, Random: false});\r\n\r\n    useEffect(() =>\r\n    {\r\n        fetch(\"/pools\").then(response => response.json()).then(data => setPools(data))   \r\n  \r\n        socket.on(\"set pools\",  setPools)\r\n        \r\n        const desconectar = () => {\r\n            debugger;\r\n            setId(\"\"); \r\n            setEstado(\"eligiendo\");\r\n        }\r\n        socket.on(\"desconectado\", desconectar)\r\n\r\n        return () => {socket.off(\"set pools\", setPools); socket.off(\"desconectado\", desconectar)}\r\n    })\r\n\r\n\r\n    return (\r\n        <Grid columnas={3}>\r\n            <Column>\r\n                {conectados.map((elem) => (<p key={elem} style={{aspectRatio:\"1/1\"}}> {elem} </p>))}\r\n            </Column>\r\n            <Column>\r\n                <button onClick={() => {socket.emit(\"desconectar\");}}>Cancelar</button>\r\n                {isHost && <button onClick={() => {socket.emit(\"set pool\", pools); socket.emit(\"start round\")}}>Empezar</button>}\r\n            </Column>\r\n            <Column>\r\n            {\r\n                Object.keys(pools).map((elem) => {                    \r\n                    return (\r\n                    <button key={elem} onClick={() => {\r\n                            if(isHost) \r\n                            {   \r\n                                socket.emit(\"toggle pool\", elem);\r\n                            }\r\n                        }}\r\n                        style = {{ textDecoration: pools[elem] ? \"none\" : \"line-through\" }}\r\n                        >\r\n                        {elem}\r\n                    </button>)\r\n                })\r\n            }\r\n            </Column>\r\n        </Grid>\r\n    )\r\n}","import { React } from 'react';\r\nimport {Grid} from \"./grid\"\r\nimport {useMediaQuery} from 'react-responsive';\r\nimport {socket} from './socket';\r\n\r\nexport const Resultados = ({resultados, isHost}) =>\r\n{\r\n    const movil = useMediaQuery({ query : \"(max-width: 1224px)\"});\r\n    const portrait = useMediaQuery({ query : \"(orientation: portrait)\"});\r\n\r\n    return (\r\n\t\t<div>\r\n\t\t\t<Grid columnas={movil && portrait ? 2 : 5}>\r\n\t\t\t\t{\r\n\t\t\t\t\tresultados.map((elem) =>{\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<p key={elem.nombre}>{elem.nombre + \" \" + elem.votos}</p>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}  \r\n\t\t\t</Grid>\r\n\t\t\t{isHost && <button onClick={() => socket.emit(\"start round\")}>Siguiente</button>}\r\n\t\t</div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Row, Timer } from './grid';\r\n\r\nexport  const Pregunta = ({pregunta, time}) =>\r\n{\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Row>\r\n                <h1>Pregunta:</h1>\r\n                <h2> {pregunta} </h2>\r\n            </Row>\r\n            <Timer time={time}></Timer>\r\n        </div>\r\n    )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport { Timer } from './grid';\r\nimport {socket} from './socket';\r\n\r\nexport const Respuesta = ({time, personas, setEstado}) =>\r\n{   \r\n    const [respuesta, setRespuesta] = useState(\"\");\r\n\r\n    useEffect(() =>\r\n    {\r\n        const f = () =>\r\n        {      \r\n            socket.emit(\"respuesta\", respuesta);   \r\n            setEstado(\"resultado\")   \r\n        }\r\n        socket.once(\"pedir respuestas\", f)\r\n\r\n        return () => socket.off(\"pedir respuestas\", f)\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <Timer time={time}></Timer>\r\n\r\n            <h1>Introduce la respuesta</h1>\r\n            <ul>\r\n            {\r\n                personas.map((elem) =>\r\n                {\r\n                    return (\r\n                    <li key={elem}>\r\n                        <button onClick={() => setRespuesta(elem)} style={{color: elem === respuesta ? 'green' : 'black'}}>\r\n                            {elem}\r\n                        </button>\r\n                    </li>)\r\n                })\r\n            }            \r\n            </ul>\r\n        </div>       \r\n    )\r\n}","import { React, useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport {Inicio} from \"./pantalla-inicio\"\nimport {Espera} from \"./pantalla-espera\"\nimport {Resultados} from \"./pantalla-resultados\"\nimport { Pregunta } from './pantalla-pregunta';\nimport { Respuesta } from './pantalla-respuesta';\nimport {socket} from './socket';\n\n\nconst App = () =>\n{\n  const personas = [\"Raul\", \"Carlos\", \"Elo\", \"Cabriada\", \"Kanian\", \"Morilla\", \"Candy\", \"Carmen\", \"Dan\", \"Isa\"];\n  const Host = \"Carlos\"\n\n  const [id, setId] = useState(\"\");\n  const [pregunta, setPregunta] = useState(\"\");\n  const [resultados, setResultados] = useState([]);\n  const [estado, setEstado] = useState(\"eligiendo\");\n  const [conectados, setConectados] = useState([]);\n\n  const [time, setTime] = useState(5)\n \n\n  //navigator.mediaDevices.getUserMedia esto es para la camara\n  \n  useEffect(() =>\n  {\n  \n    socket.on(\"set conectados\", (c) =>\n    {\n      setConectados(c)\n    })\n\n    socket.on(\"time left\", (t) =>\n    {\n      setTime(t)\n    })\n    socket.on(\"timer done\", () =>\n    {\n      setEstado(\"respuesta\")\n    })\n\n\n    socket.on(\"set pregunta\", (p) =>\n    {\n      setPregunta(p)\n      setEstado(\"pregunta\")\n    })   \n    socket.on(\"set resultados\", (res) =>\n    {\n      setResultados(res)\n    })\n  });\n\n  if(estado === \"eligiendo\")  return (<Inicio personas={personas} conectados={conectados} setId={setId} setEstado={setEstado}></Inicio>)  \n  if(estado === \"esperando\")  return (<Espera conectados={conectados} isHost={id === Host} setId={setId} setEstado={setEstado}></Espera>)\n  if(estado === \"pregunta\")   return (<Pregunta pregunta={pregunta} time={time}></Pregunta>)\n  if(estado === \"respuesta\")  return (<Respuesta time={time} personas={personas} setEstado={setEstado}></Respuesta>)\n  if(estado === \"resultado\")  return (<Resultados resultados={resultados} isHost = {id === Host}></Resultados>)\n}\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}
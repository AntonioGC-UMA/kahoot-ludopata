(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{71:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n(1),r=n(33),s=n.n(r),i=n(0),u=function(e){var t=e.time;return Object(i.jsx)("div",{style:{background:"#fdf7e3",position:"sticky",top:"0",right:"0",width:"10%",height:"10%"},children:t})},a=function(e){var t=e.columnas,n=e.children;return Object(i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat("+t+", 1fr)",gridGap:"20px"},children:n})},d=n(8),j=n(34),b=n.n(j)()(),l=function(e){var t=e.personas,n=e.conectados,c=e.setId,r=e.setEstado,s=Object(d.useMediaQuery)({query:"(max-width: 1224px)"}),u=Object(d.useMediaQuery)({query:"(orientation: portrait)"});return Object(o.useEffect)((function(){b.once("conexion aceptada",(function(e){c(e),r("esperando")}))})),Object(i.jsx)(a,{columnas:s&&u?2:5,children:t.map((function(e){var t=!n.includes(e);return Object(i.jsx)("button",{onClick:function(){t&&b.emit("conectar",e)},style:{aspectRatio:"1/1",textDecoration:t?"none":"line-through"},children:e},e)}))})},f=function(e){var t=e.isHost,n=e.conectados,r=e.setId,s=e.setEstado,u=Object(o.useState)("normales"),j=Object(c.a)(u,2),l=j[0],f=j[1],O=Object(o.useState)([]),h=Object(c.a)(O,2),p=h[0],x=h[1],m=Object(d.useMediaQuery)({query:"(max-width: 1224px)"}),g=Object(d.useMediaQuery)({query:"(orientation: portrait)"});return Object(o.useEffect)((function(){fetch("/pools").then((function(e){return e.json()})).then((function(e){return x(e)})),b.on("set pool",f);var e=function(){r(""),s("eligiendo")};return b.on("desconectado",e),function(){b.off("set pool",f),b.off("desconectado",e)}}),[r,s]),Object(i.jsxs)("div",{children:[Object(i.jsx)(a,{columnas:m&&g?2:5,children:n.map((function(e){return Object(i.jsx)("button",{style:{aspectRatio:"1/1"},children:e},e)}))}),Object(i.jsxs)("p",{children:[Object(i.jsx)("button",{onClick:function(){b.emit("desconectar")},children:"Cancelar"}),t&&Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){b.emit("set pool",l),b.emit("start round")},children:"Empezar"}),Object(i.jsx)("select",{onChange:function(e){f(e.target.value)},children:p.map((function(e){return Object(i.jsx)("option",{children:e},e)}))})]})]})]})},O=function(e){var t=e.resultados,n=e.empatados,r=e.isHost;t.sort((function(e,t){return t.votos-e.votos}));var s=t[0].votos,u=window.innerWidth/(s+2),a=Object(o.useState)(!1),d=Object(c.a)(a,2),j=d[0],l=d[1],f=Object(o.useState)(!1),O=Object(c.a)(f,2),h=O[0],p=O[1];return Object(o.useEffect)((function(){window.scrollTo(0,0),fetch("/preguntasRestantes").then((function(e){return e.json()})).then((function(e){l(e>0)})),fetch("/empates").then((function(e){return e.json()})).then((function(e){var t=n.map((function(e){return e.nombre})).sort().join("");p(e.hasOwnProperty(t))}))}),[n]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:t.map((function(e,t){return Object(i.jsxs)("div",{style:{textAlign:"center",display:"flex",flexDirection:"row",width:"100%",margin:"1em"},children:[Object(i.jsx)("p",{style:{width:u},children:e.nombre+(0===t?"\ud83e\udd47":1===t?"\ud83e\udd48":2===t?"\ud83e\udd49":"")}),Object(i.jsx)("div",{style:{width:u*s},children:Object(i.jsx)("div",{style:{width:u*e.votos,height:"100%",background:"#07820b",borderRadius:"25px"}})}),Object(i.jsx)("p",{style:{width:u},children:e.votos})]},e.nombre)}))}),r&&j&&Object(i.jsx)("button",{onClick:function(){return b.emit("start round")},children:"Siguiente"}),r&&n.length>0&&Object(i.jsx)("button",{onClick:function(){return b.emit("start challenge")},children:"Reto"}),r&&h&&Object(i.jsx)("button",{onClick:function(){return b.emit("start custom challenge",n.map((function(e){return e.nombre})).sort().join(""))},children:"Reto personalizado"})]})},h=function(e){var t=e.pregunta,n=e.time;return Object(i.jsxs)("div",{children:[Object(i.jsx)(u,{time:n}),Object(i.jsxs)("p",{style:{borderRadius:"25px",top:"40%",padding:"2em",textAlign:"center",backgroundImage:"url(./bush.png)",fontSize:"larger"},children:[Object(i.jsx)("h1",{children:"Pregunta:"}),Object(i.jsxs)("h2",{children:[" ",t," "]})]})]})},p=function(e){var t=e.time,n=e.conectados,r=e.setEstado,s=Object(o.useState)(""),j=Object(c.a)(s,2),l=j[0],f=j[1],O=Object(d.useMediaQuery)({query:"(max-width: 1224px)"}),h=Object(d.useMediaQuery)({query:"(orientation: portrait)"});return Object(o.useEffect)((function(){var e=function(){b.emit("respuesta",l),r("resultado")};return b.once("pedir respuestas",e),function(){return b.off("pedir respuestas",e)}})),Object(i.jsxs)("div",{children:[Object(i.jsx)(u,{time:t}),Object(i.jsx)("h1",{children:"Introduce la respuesta"}),Object(i.jsx)(a,{columnas:O&&h?2:5,children:n.map((function(e){return Object(i.jsx)("button",{style:{aspectRatio:"1/1",backgroundColor:e===l?"green":"rgb(239, 239, 239)"},onClick:function(){return f(e)},children:e},e)}))})]})},x=function(e){var t=e.isHost,n=e.reto,r=Object(o.useState)(!1),s=Object(c.a)(r,2),u=s[0],a=s[1];return Object(o.useEffect)((function(){fetch("/preguntasRestantes").then((function(e){return e.json()})).then((function(e){a(e>0)}))}),[]),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{style:{borderRadius:"25px",top:"40%",padding:"2em",textAlign:"center",backgroundImage:"url(./bush.png)",fontSize:"larger"},children:[Object(i.jsx)("h1",{children:"Reto:"}),Object(i.jsxs)("h2",{children:[" ",n," "]}),t&&u&&Object(i.jsx)("button",{onClick:function(){return b.emit("start round")},children:"Siguiente"})]})})},m=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],s="Carlos",u=Object(o.useState)(""),a=Object(c.a)(u,2),d=a[0],j=a[1],m=Object(o.useState)(""),g=Object(c.a)(m,2),v=g[0],y=g[1],w=Object(o.useState)(""),S=Object(c.a)(w,2),k=S[0],E=S[1],C=Object(o.useState)([]),R=Object(c.a)(C,2),I=R[0],q=R[1],H=Object(o.useState)([]),M=Object(c.a)(H,2),Q=M[0],z=M[1],A=Object(o.useState)("eligiendo"),D=Object(c.a)(A,2),J=D[0],P=D[1],T=Object(o.useState)([]),B=Object(c.a)(T,2),G=B[0],W=B[1],F=Object(o.useState)(5),K=Object(c.a)(F,2),L=K[0],N=K[1];return Object(o.useEffect)((function(){fetch("/usuarios").then((function(e){return e.json()})).then((function(e){return r(e)})),window.onbeforeunload=function(){b.disconnect()},b.on("set conectados",(function(e){W(e)})),b.on("time left",(function(e){N(e)})),b.on("timer done",(function(){P("respuesta")})),b.on("set pregunta",(function(e){y(e),P("pregunta")})),b.on("set resultados",(function(e){q(e)})),b.on("set empatados",(function(e){z(e)})),b.on("set reto",(function(e){E(e),P("reto"),z([])}))}),[]),"eligiendo"===J?Object(i.jsx)(l,{personas:n,conectados:G,setId:j,setEstado:P}):"esperando"===J?Object(i.jsx)(f,{conectados:G,isHost:d===s,setId:j,setEstado:P}):"pregunta"===J?Object(i.jsx)(h,{pregunta:v,time:L}):"respuesta"===J?Object(i.jsx)(p,{time:L,conectados:n,setEstado:P}):"resultado"===J?Object(i.jsx)(O,{resultados:I,empatados:Q,isHost:d===s}):"reto"===J?Object(i.jsx)(x,{reto:k,isHost:d===s}):void 0};s.a.render(Object(i.jsx)(m,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.7313b921.chunk.js.map
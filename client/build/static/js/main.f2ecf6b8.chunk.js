(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{71:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(1),o=n(33),r=n.n(o),i=n(0),a=function(e){var t=e.time;return Object(i.jsx)("div",{style:{background:"#fdf7e3",position:"absolute",top:"0",right:"0",width:"3%",height:"3%"},children:t})},u=function(e){var t=e.columnas,n=e.children;return Object(i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat("+t+", 1fr)",gridGap:"2em"},children:n})},d=function(e){var t=e.children;return Object(i.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center"},children:t})},l=n(17),j=n(34),b=n.n(j)()(),f=function(e){var t=e.personas,n=e.conectados,c=e.setId,o=e.setEstado,r=Object(l.useMediaQuery)({query:"(max-width: 1224px)"}),a=Object(l.useMediaQuery)({query:"(orientation: portrait)"});return Object(s.useEffect)((function(){b.once("conexion aceptada",(function(e){c(e),o("esperando")}))})),Object(i.jsx)(u,{columnas:r&&a?2:5,children:t.map((function(e){var t=!n.includes(e);return Object(i.jsx)("button",{onClick:function(){t&&b.emit("conectar",e)},style:{aspectRatio:"1/1",textDecoration:t?"none":"line-through"},children:e},e)}))})},O=function(e){var t=e.isHost,n=e.conectados,o=e.setId,r=e.setEstado,a=Object(s.useState)({Normales:!1,Rapidas:!1,Lentas:!1,Dobles:!1,Random:!1}),l=Object(c.a)(a,2),j=l[0],f=l[1];return Object(s.useEffect)((function(){fetch("/pools").then((function(e){return e.json()})).then((function(e){return f(e)})),b.on("set pools",f);var e=function(){o(""),r("eligiendo")};return b.on("desconectado",e),function(){b.off("set pools",f),b.off("desconectado",e)}}),[o,r]),Object(i.jsxs)(u,{columnas:3,children:[Object(i.jsx)(d,{children:n.map((function(e){return Object(i.jsxs)("p",{style:{aspectRatio:"1/1"},children:[" ",e," "]},e)}))}),Object(i.jsxs)(d,{children:[Object(i.jsx)("button",{onClick:function(){b.emit("desconectar")},children:"Cancelar"}),t&&Object(i.jsx)("button",{onClick:function(){b.emit("set pool",j),b.emit("start round")},children:"Empezar"})]}),Object(i.jsx)(d,{children:Object.keys(j).map((function(e){return Object(i.jsx)("button",{onClick:function(){t&&b.emit("toggle pool",e)},style:{textDecoration:j[e]?"none":"line-through"},children:e},e)}))})]})},h=function(e){var t=e.resultados,n=e.isHost;t.sort((function(e,t){return t.votos-e.votos}));var o=t[0].votos,r=window.innerWidth/(o+2),a=Object(s.useState)(!1),u=Object(c.a)(a,2),d=u[0],l=u[1];return Object(s.useEffect)((function(){fetch("/preguntas").then((function(e){return e.json()})).then((function(e){l(e.length>0),console.log(e)}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:t.map((function(e){return Object(i.jsxs)("div",{style:{textAlign:"center",display:"flex",flexDirection:"row",width:"100%",margin:"1em"},children:[Object(i.jsx)("p",{style:{width:r},children:e.nombre}),Object(i.jsx)("div",{style:{width:r*e.votos,background:"#07820b",borderRadius:"25px"}}),Object(i.jsx)("p",{style:{width:r},children:e.votos})]},e.nombre)}))}),n&&d&&Object(i.jsx)("button",{onClick:function(){return b.emit("start round")},children:"Siguiente"})]})},p=function(e){var t=e.pregunta,n=e.time;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{borderRadius:"25px",backgroundImage:"url(./bush.png)",textAlign:"center",display:"flex",alignItems:"center",justifyItems:"center",flexDirection:"column"},children:[Object(i.jsx)("h1",{children:"Pregunta:"}),Object(i.jsxs)("h2",{children:[" ",t," "]})]}),Object(i.jsx)(a,{time:n})]})},x=function(e){var t=e.time,n=e.personas,o=e.setEstado,r=Object(s.useState)(""),u=Object(c.a)(r,2),d=u[0],l=u[1];return Object(s.useEffect)((function(){var e=function(){b.emit("respuesta",d),o("resultado")};return b.once("pedir respuestas",e),function(){return b.off("pedir respuestas",e)}})),Object(i.jsxs)("div",{children:[Object(i.jsx)(a,{time:t}),Object(i.jsx)("h1",{children:"Introduce la respuesta"}),Object(i.jsx)("ul",{children:n.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("button",{onClick:function(){return l(e)},style:{color:e===d?"green":"black"},children:e})},e)}))})]})},m=function(){var e=["Raul","Carlos","Elo","Cabriada","Kanian","Morilla","Candy","Carmen","Dan","Isa"],t="Carlos",n=Object(s.useState)(""),o=Object(c.a)(n,2),r=o[0],a=o[1],u=Object(s.useState)(""),d=Object(c.a)(u,2),l=d[0],j=d[1],m=Object(s.useState)([]),g=Object(c.a)(m,2),v=g[0],y=g[1],E=Object(s.useState)("eligiendo"),k=Object(c.a)(E,2),w=k[0],C=k[1],I=Object(s.useState)([]),S=Object(c.a)(I,2),D=S[0],R=S[1],H=Object(s.useState)(5),M=Object(c.a)(H,2),q=M[0],A=M[1];return Object(s.useEffect)((function(){window.onbeforeunload=function(){b.send("desconectar")},b.on("set conectados",(function(e){R(e)})),b.on("time left",(function(e){A(e)})),b.on("timer done",(function(){C("respuesta")})),b.on("set pregunta",(function(e){j(e),C("pregunta")})),b.on("set resultados",(function(e){y(e)}))})),"eligiendo"===w?Object(i.jsx)(f,{personas:e,conectados:D,setId:a,setEstado:C}):"esperando"===w?Object(i.jsx)(O,{conectados:D,isHost:r===t,setId:a,setEstado:C}):"pregunta"===w?Object(i.jsx)(p,{pregunta:l,time:q}):"respuesta"===w?Object(i.jsx)(x,{time:q,personas:e,setEstado:C}):"resultado"===w?Object(i.jsx)(h,{resultados:v,isHost:r===t}):void 0};r.a.render(Object(i.jsx)(m,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.f2ecf6b8.chunk.js.map
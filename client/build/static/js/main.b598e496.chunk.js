(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{71:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n(1),s=n(33),r=n.n(s),i=n(0),u=function(e){var t=e.time;return Object(i.jsx)("div",{style:{background:"#fdf7e3",position:"sticky",top:"0",right:"0",width:"10%",height:"10%"},children:t})},a=function(e){var t=e.columnas,n=e.children;return Object(i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat("+t+", 1fr)",gridGap:"20px"},children:n})},d=n(8),j=n(34),l=n.n(j)()(),b=function(e){var t=e.personas,n=e.conectados,c=e.setId,s=e.setEstado,r=Object(d.useMediaQuery)({query:"(max-width: 1224px)"}),u=Object(d.useMediaQuery)({query:"(orientation: portrait)"});return Object(o.useEffect)((function(){l.once("conexion aceptada",(function(e){c(e),s("esperando")}))})),Object(i.jsx)(a,{columnas:r&&u?2:5,children:t.map((function(e){var t=!n.includes(e);return Object(i.jsx)("button",{onClick:function(){t&&l.emit("conectar",e)},style:{aspectRatio:"1/1",textDecoration:t?"none":"line-through"},children:e},e)}))})},f=function(e){var t=e.isHost,n=e.conectados,s=e.setId,r=e.setEstado,u=Object(o.useState)("normales"),j=Object(c.a)(u,2),b=j[0],f=j[1],O=Object(o.useState)([]),h=Object(c.a)(O,2),p=h[0],x=h[1],m=Object(d.useMediaQuery)({query:"(max-width: 1224px)"}),g=Object(d.useMediaQuery)({query:"(orientation: portrait)"});return Object(o.useEffect)((function(){fetch("/pools").then((function(e){return e.json()})).then((function(e){return x(e)})),l.on("set pool",f);var e=function(){s(""),r("eligiendo")};return l.on("desconectado",e),function(){l.off("set pool",f),l.off("desconectado",e)}}),[s,r]),Object(i.jsxs)("div",{children:[Object(i.jsx)(a,{columnas:m&&g?2:5,children:n.map((function(e){return Object(i.jsx)("button",{style:{aspectRatio:"1/1"},children:e},e)}))}),Object(i.jsxs)("p",{children:[Object(i.jsx)("button",{onClick:function(){l.emit("desconectar")},children:"Cancelar"}),t&&Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){l.emit("set pool",b),l.emit("start round")},children:"Empezar"}),Object(i.jsx)("select",{onChange:function(e){f(e.target.value)},children:p.map((function(e){return Object(i.jsx)("option",{children:e},e)}))})]})]})]})},O=function(e){var t=e.resultados,n=e.empatados,s=e.isHost;t.sort((function(e,t){return t.votos-e.votos}));var r=t[0].votos,u=window.innerWidth/(r+2),a=Object(o.useState)(!1),d=Object(c.a)(a,2),j=d[0],b=d[1];return Object(o.useEffect)((function(){window.scrollTo(0,0),fetch("/preguntas").then((function(e){return e.json()})).then((function(e){b(e.length>0)}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:t.map((function(e,t){return Object(i.jsxs)("div",{style:{textAlign:"center",display:"flex",flexDirection:"row",width:"100%",margin:"1em"},children:[Object(i.jsx)("p",{style:{width:u},children:e.nombre+(0===t?"\ud83e\udd47":1===t?"\ud83e\udd48":2===t?"\ud83e\udd49":"")}),Object(i.jsx)("div",{style:{width:u*r},children:Object(i.jsx)("div",{style:{width:u*e.votos,height:"100%",background:"#07820b",borderRadius:"25px"}})}),Object(i.jsx)("p",{style:{width:u},children:e.votos})]},e.nombre)}))}),s&&j&&Object(i.jsx)("button",{onClick:function(){return l.emit("start round")},children:"Siguiente"}),s&&n.length>0&&Object(i.jsx)("button",{onClick:function(){return l.emit("start challenge")},children:"Reto"})]})},h=function(e){var t=e.pregunta,n=e.time;return Object(i.jsxs)("div",{children:[Object(i.jsx)(u,{time:n}),Object(i.jsxs)("p",{style:{borderRadius:"25px",top:"40%",padding:"2em",textAlign:"center",backgroundImage:"url(./bush.png)",fontSize:"larger"},children:[Object(i.jsx)("h1",{children:"Pregunta:"}),Object(i.jsxs)("h2",{children:[" ",t," "]})]})]})},p=function(e){var t=e.time,n=e.conectados,s=e.setEstado,r=Object(o.useState)(""),j=Object(c.a)(r,2),b=j[0],f=j[1],O=Object(d.useMediaQuery)({query:"(max-width: 1224px)"}),h=Object(d.useMediaQuery)({query:"(orientation: portrait)"});return Object(o.useEffect)((function(){var e=function(){l.emit("respuesta",b),s("resultado")};return l.once("pedir respuestas",e),function(){return l.off("pedir respuestas",e)}})),Object(i.jsxs)("div",{children:[Object(i.jsx)(u,{time:t}),Object(i.jsx)("h1",{children:"Introduce la respuesta"}),Object(i.jsx)(a,{columnas:O&&h?2:5,children:n.map((function(e){return Object(i.jsx)("button",{style:{aspectRatio:"1/1",backgroundColor:e===b?"green":"rgb(239, 239, 239)"},onClick:function(){return f(e)},children:e},e)}))})]})},x=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],r="Carlos",u=Object(o.useState)(""),a=Object(c.a)(u,2),d=a[0],j=a[1],x=Object(o.useState)(""),m=Object(c.a)(x,2),g=m[0],v=m[1],y=Object(o.useState)([]),w=Object(c.a)(y,2),S=w[0],k=w[1],E=Object(o.useState)([]),C=Object(c.a)(E,2),I=C[0],q=C[1],M=Object(o.useState)("eligiendo"),Q=Object(c.a)(M,2),R=Q[0],H=Q[1],D=Object(o.useState)([]),z=Object(c.a)(D,2),A=z[0],J=z[1],T=Object(o.useState)(5),B=Object(c.a)(T,2),G=B[0],P=B[1];return Object(o.useEffect)((function(){fetch("/usuarios").then((function(e){return e.json()})).then((function(e){return s(e)})),window.onbeforeunload=function(){l.disconnect()},l.on("set conectados",(function(e){J(e)})),l.on("time left",(function(e){P(e)})),l.on("timer done",(function(){H("respuesta")})),l.on("set pregunta",(function(e){v(e),H("pregunta")})),l.on("set resultados",(function(e){k(e)})),l.on("set empatados",(function(e){q(e)}))})),"eligiendo"===R?Object(i.jsx)(b,{personas:n,conectados:A,setId:j,setEstado:H}):"esperando"===R?Object(i.jsx)(f,{conectados:A,isHost:d===r,setId:j,setEstado:H}):"pregunta"===R?Object(i.jsx)(h,{pregunta:g,time:G}):"respuesta"===R?Object(i.jsx)(p,{time:G,conectados:n,setEstado:H}):"resultado"===R?Object(i.jsx)(O,{resultados:S,empatados:I,isHost:d===r}):void 0};r.a.render(Object(i.jsx)(x,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.b598e496.chunk.js.map
{"version":3,"sources":["grid.js","socket.js","pantalla-inicio.js","pantalla-espera.js","pantalla-resultados.js","pantalla-pregunta.js","pantalla-respuesta.js","index.js"],"names":["Timer","time","style","borderRadius","background","position","top","right","Grid","columnas","children","display","gridTemplateColumns","gridGap","Row","flexDirection","alignItems","justifyItems","Column","socket","io","Inicio","personas","conectados","setId","setEstado","movil","useMediaQuery","query","portrait","useEffect","once","e","map","elem","disponible","includes","onClick","emit","aspectRatio","textDecoration","Espera","isHost","useState","Normales","Rapidas","Lentas","Dobles","Random","pools","setPools","fetch","then","response","json","data","on","off","Object","keys","Resultados","resultados","nombre","votos","Pregunta","pregunta","Respuesta","respuesta","setRespuesta","color","App","Host","id","setPregunta","setResultados","estado","setConectados","setTime","c","t","p","res","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d85675de.chunk.js","sourcesContent":["import { React } from 'react';\r\n\r\n\r\nexport const mapObject = (obj, f) =>\r\n{\r\n    Object.keys(obj).map(f);\r\n}\r\n\r\n\r\n\r\nexport const Timer = ({time}) =>\r\n{\r\n    return (\r\n        <div style={{borderRadius:\"50%\", background:\"#fdf7e3\", position:\"absolute\", top:\"3%\", right:\"3%\"}}>\r\n            {\r\n                time\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Grid = ({columnas, children}) =>\r\n{\r\n    \r\n    return (\r\n        <div style={{display:\"grid\", gridTemplateColumns:\"repeat(\"+columnas+\", 1fr)\", gridGap:\"2em\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Row = ({children}) =>\r\n{    \r\n    return (\r\n        <div style={{display:\"flex\", flexDirection:\"row\", alignItems:\"center\", justifyItems:\"center\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Column = ({children}) =>\r\n{    \r\n    return (\r\n        <div style={{display:\"flex\", flexDirection:\"column\", alignItems:\"center\", justifyItems:\"center\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}","import io from \"socket.io-client\";\r\n\r\nexport const socket = io(\"http://192.168.1.13:8080\");","import { React, useState, useEffect } from 'react';\r\nimport {Grid, User} from \"./grid\"\r\nimport {useMediaQuery} from 'react-responsive';\r\nimport {socket} from './socket';\r\n\r\nexport const Inicio = ({personas, conectados, setId, setEstado}) =>\r\n{\r\n    const movil = useMediaQuery({ query : \"(max-width: 1224px)\"});\r\n    const portrait = useMediaQuery({ query : \"(orientation: portrait)\"});\r\n\r\n    useEffect(() =>\r\n    {\r\n      socket.once(\"conexion aceptada\", (e) => \r\n      {\r\n        setId(e); setEstado(\"esperando\");\r\n      })\r\n    })\r\n\r\n    return (\r\n        <Grid columnas={movil && portrait ? 2 : 5}>\r\n            {\r\n                personas.map((elem) =>\r\n                {\r\n                    const disponible = !conectados.includes(elem);\r\n\r\n                    return (\r\n                        <button key={elem} \r\n                        onClick={() => {if(disponible) {socket.emit(\"conectar\", elem);}}} \r\n                        style={{aspectRatio:\"1/1\",  textDecoration: disponible ? \"none\" : \"line-through\"}}>\r\n                            {elem}\r\n                        </button>\r\n                    )\r\n                })\r\n            }  \r\n        </Grid>\r\n    )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport { Column, Grid, } from './grid';\r\nimport {socket} from './socket';\r\n\r\nexport  const Espera = ({isHost, conectados, setId, setEstado}) =>\r\n{\r\n\r\n    const [pools, setPools] = useState({Normales: false, Rapidas: false, Lentas: false, Dobles: false, Random: false});\r\n\r\n    useEffect(() =>\r\n    {\r\n      fetch(\"/pools\").then(response => response.json()).then(data => setPools(data)) \r\n  \r\n  \r\n      socket.on(\"set pools\",  setPools)\r\n\r\n      socket.once(\"desconectado\", () => {\r\n        setId(\"\"); setEstado(\"elijiendo\");\r\n      })\r\n\r\n      return () => {socket.off(\"set pools\", setPools)}\r\n    })\r\n\r\n\r\n    return (\r\n        <Grid columnas={3}>\r\n            <Column>\r\n                {conectados.map((elem) => (<p key={elem} style={{aspectRatio:\"1/1\"}}> {elem} </p>))}\r\n            </Column>\r\n            <Column>\r\n                <button onClick={() => {socket.emit(\"desconectar\");}}>Cancelar</button>\r\n                {isHost && <button onClick={() => {socket.emit(\"set pool\", pools); socket.emit(\"start round\")}}>Empezar</button>}\r\n            </Column>\r\n            <Column>\r\n            {\r\n                Object.keys(pools).map((elem) => {                    \r\n                    return (\r\n                    <button key={elem} onClick={() => {\r\n                            if(isHost) \r\n                            {   \r\n                                socket.emit(\"toggle pool\", elem);\r\n                            }\r\n                        }}\r\n                        style = {{ textDecoration: pools[elem] ? \"none\" : \"line-through\" }}\r\n                        >\r\n                        {elem}\r\n                    </button>)\r\n                })\r\n            }\r\n            </Column>\r\n        </Grid>\r\n    )\r\n}","import { React } from 'react';\r\nimport {Grid} from \"./grid\"\r\nimport {useMediaQuery} from 'react-responsive';\r\nimport {socket} from './socket';\r\n\r\nexport const Resultados = ({resultados, isHost}) =>\r\n{\r\n    const movil = useMediaQuery({ query : \"(max-width: 1224px)\"});\r\n    const portrait = useMediaQuery({ query : \"(orientation: portrait)\"});\r\n\r\n    return (\r\n\t\t<div>\r\n\t\t\t<Grid columnas={movil && portrait ? 2 : 5}>\r\n\t\t\t\t{\r\n\t\t\t\t\tresultados.map((elem) =>{\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<p key={elem.nombre}>{elem.nombre + \" \" + elem.votos}</p>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}  \r\n\t\t\t</Grid>\r\n\t\t\t{isHost && <button onClick={() => socket.emit(\"update pregunta\")}>Siguiente</button>}\r\n\t\t</div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Row, Timer } from './grid';\r\n\r\nexport  const Pregunta = ({pregunta, time}) =>\r\n{\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Row>\r\n                <h1>Pregunta:</h1>\r\n                <h2> {pregunta} </h2>\r\n            </Row>\r\n            <Timer time={time}></Timer>\r\n        </div>\r\n    )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport { Timer } from './grid';\r\nimport {socket} from './socket';\r\n\r\nexport const Respuesta = ({time, personas, setEstado}) =>\r\n{   \r\n    const [respuesta, setRespuesta] = useState(\"\");\r\n\r\n    useEffect(() =>\r\n    {\r\n        socket.once(\"pedir respuestas\", () =>\r\n        {      \r\n          socket.emit(\"respuesta\", respuesta);   \r\n          setEstado(\"resultado\")   \r\n        })\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <Timer time={time}></Timer>\r\n\r\n            <h1>Introduce la respuesta</h1>\r\n            <ul>\r\n            {\r\n                personas.map((elem) =>\r\n                {\r\n                    return (\r\n                    <li key={elem}>\r\n                        <button onClick={() => setRespuesta(elem)} style={{color: elem === respuesta ? 'green' : 'black'}}>\r\n                            {elem}\r\n                        </button>\r\n                    </li>)\r\n                })\r\n            }            \r\n            </ul>\r\n        </div>       \r\n    )\r\n}","import { React, useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport {Inicio} from \"./pantalla-inicio\"\nimport {Espera} from \"./pantalla-espera\"\nimport {Resultados} from \"./pantalla-resultados\"\nimport { Pregunta } from './pantalla-pregunta';\nimport { Respuesta } from './pantalla-respuesta';\nimport {socket} from './socket';\n\n\nconst App = () =>\n{\n  const personas = [\"Raul\", \"Carlos\", \"Elo\", \"Cabriada\", \"Kanian\", \"Morilla\", \"Candy\", \"Carmen\", \"Dan\", \"Isa\"];\n  const Host = \"Carlos\"\n\n  const [id, setId] = useState(\"\");\n  const [pregunta, setPregunta] = useState(\"\");\n  const [resultados, setResultados] = useState([]);\n  const [estado, setEstado] = useState(\"eligiendo\");\n  const [conectados, setConectados] = useState([]);\n\n  const [time, setTime] = useState(5)\n \n\n  //navigator.mediaDevices.getUserMedia esto es para la camara\n  \n  useEffect(() =>\n  {\n    socket.on(\"desconectado\", () => \n    {\n      setId(\"\"); setEstado(\"eligiendo\");\n    })\n    socket.on(\"set conectados\", (c) =>\n    {\n      setConectados(c)\n    })\n\n    socket.on(\"time left\", (t) =>\n    {\n      setTime(t)\n    })\n    socket.on(\"timer done\", () =>\n    {\n      setEstado(\"respuesta\")\n    })\n\n\n    socket.on(\"set pregunta\", (p) =>\n    {\n      setPregunta(p)\n      setEstado(\"pregunta\")\n    })   \n    socket.on(\"set resultados\", (res) =>\n    {\n      setResultados(res)\n    })\n  });\n\n  if(estado === \"eligiendo\")  return (<Inicio personas={personas} conectados={conectados} setId={setId} setEstado={setEstado}></Inicio>)  \n  if(estado === \"esperando\")  return (<Espera conectados={conectados} isHost={id === Host} setId={setId} setEstado={setEstado}></Espera>)\n  if(estado === \"pregunta\")   return (<Pregunta pregunta={pregunta} time={time}></Pregunta>)\n  if(estado === \"respuesta\")  return (<Respuesta time={time} personas={personas} setEstado={setEstado}></Respuesta>)\n  if(estado === \"resultado\")  return (<Resultados resultados={resultados} isHost = {id === Host}></Resultados>)\n}\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}
{"version":3,"sources":["grid.js","socket.js","pantalla-inicio.js","pantalla-espera.js","pantalla-resultados.js","pantalla-pregunta.js","pantalla-respuesta.js","index.js"],"names":["Timer","time","style","background","position","top","right","width","height","Grid","columnas","children","display","gridTemplateColumns","gridGap","Column","flexDirection","alignItems","justifyItems","socket","io","Inicio","personas","conectados","setId","setEstado","movil","useMediaQuery","query","portrait","useEffect","once","e","map","elem","disponible","includes","onClick","emit","aspectRatio","textDecoration","Espera","isHost","useState","Normales","Rapidas","Lentas","Dobles","Random","pools","setPools","fetch","then","response","json","data","on","desconectar","off","Object","keys","Resultados","resultados","sort","a","b","votos","max","unidad","window","innerWidth","textAlign","margin","nombre","borderRadius","Pregunta","pregunta","backgroundImage","Respuesta","respuesta","setRespuesta","f","color","App","Host","id","setPregunta","setResultados","estado","setConectados","setTime","c","t","p","res","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bbc5dbe1.chunk.js","sourcesContent":["import { React, useEffect, useState } from 'react';\r\n\r\n\r\nexport const mapObject = (obj, f) =>\r\n{\r\n    Object.keys(obj).map(f);\r\n}\r\n\r\nexport const useSized = () =>\r\n{\r\n    const [size, setSize] = useState({width: window.innerWidth, height: window.innerHeight});\r\n\r\n    useEffect(() =>\r\n    {\r\n        const onResize = () =>\r\n        {\r\n            setSize({width: window.innerWidth, height: window.innerHeight});\r\n        }\r\n\r\n        window.addEventListener('resize', onResize);\r\n\r\n        return () => window.removeEventListener('resize', onResize);\r\n    })\r\n\r\n    return size;\r\n}\r\n\r\nexport const Timer = ({time}) =>\r\n{\r\n    return (\r\n        <div style={{background:\"#fdf7e3\", position:\"absolute\", top:\"0\", right:\"0\", width:\"3%\", height:\"3%\"}}>\r\n            {\r\n                time\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Grid = ({columnas, children}) =>\r\n{\r\n    \r\n    return (\r\n        <div style={{display:\"grid\", gridTemplateColumns:\"repeat(\"+columnas+\", 1fr)\", gridGap:\"2em\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Row = ({children}) =>\r\n{    \r\n    return (\r\n        <div style={{display:\"flex\", flexDirection:\"row\", alignItems:\"center\", justifyItems:\"center\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Column = ({children}) =>\r\n{    \r\n    return (\r\n        <div style={{display:\"flex\", flexDirection:\"column\", alignItems:\"center\", justifyItems:\"center\"}}>\r\n            {\r\n                children\r\n            }            \r\n        </div>\r\n    )\r\n}","import io from \"socket.io-client\";\r\n\r\nexport const socket = io();","import { React, useEffect } from 'react';\r\nimport {Grid} from \"./grid\"\r\nimport {useMediaQuery} from 'react-responsive';\r\nimport {socket} from './socket';\r\n\r\nexport const Inicio = ({personas, conectados, setId, setEstado}) =>\r\n{\r\n    const movil = useMediaQuery({ query : \"(max-width: 1224px)\"});\r\n    const portrait = useMediaQuery({ query : \"(orientation: portrait)\"});\r\n\r\n    useEffect(() =>\r\n    {\r\n      socket.once(\"conexion aceptada\", (e) => \r\n      {\r\n        setId(e); setEstado(\"esperando\");\r\n      })\r\n    })\r\n\r\n    return (\r\n        <Grid columnas={movil && portrait ? 2 : 5}>\r\n            {\r\n                personas.map((elem) =>\r\n                {\r\n                    const disponible = !conectados.includes(elem);\r\n\r\n                    return (\r\n                        <button key={elem} \r\n                        onClick={() => {if(disponible) {socket.emit(\"conectar\", elem);}}} \r\n                        style={{aspectRatio:\"1/1\",  textDecoration: disponible ? \"none\" : \"line-through\"}}>\r\n                            {elem}\r\n                        </button>\r\n                    )\r\n                })\r\n            }  \r\n        </Grid>\r\n    )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport { Column, Grid, } from './grid';\r\nimport {socket} from './socket';\r\n\r\nexport  const Espera = ({isHost, conectados, setId, setEstado}) =>\r\n{\r\n\r\n    const [pools, setPools] = useState({Normales: false, Rapidas: false, Lentas: false, Dobles: false, Random: false});\r\n\r\n    useEffect(() =>\r\n    {\r\n        fetch(\"/pools\").then(response => response.json()).then(data => setPools(data))   \r\n  \r\n        socket.on(\"set pools\",  setPools)\r\n        \r\n        const desconectar = () => {\r\n            debugger;\r\n            setId(\"\"); \r\n            setEstado(\"eligiendo\");\r\n        }\r\n        socket.on(\"desconectado\", desconectar)\r\n\r\n        return () => {socket.off(\"set pools\", setPools); socket.off(\"desconectado\", desconectar)}\r\n    })\r\n\r\n\r\n    return (\r\n        <Grid columnas={3}>\r\n            <Column>\r\n                {conectados.map((elem) => (<p key={elem} style={{aspectRatio:\"1/1\"}}> {elem} </p>))}\r\n            </Column>\r\n            <Column>\r\n                <button onClick={() => {socket.emit(\"desconectar\");}}>Cancelar</button>\r\n                {isHost && <button onClick={() => {socket.emit(\"set pool\", pools); socket.emit(\"start round\")}}>Empezar</button>}\r\n            </Column>\r\n            <Column>\r\n            {\r\n                Object.keys(pools).map((elem) => {                    \r\n                    return (\r\n                    <button key={elem} onClick={() => {\r\n                            if(isHost) \r\n                            {   \r\n                                socket.emit(\"toggle pool\", elem);\r\n                            }\r\n                        }}\r\n                        style = {{ textDecoration: pools[elem] ? \"none\" : \"line-through\" }}\r\n                        >\r\n                        {elem}\r\n                    </button>)\r\n                })\r\n            }\r\n            </Column>\r\n        </Grid>\r\n    )\r\n}","import { React } from 'react';\r\nimport {socket} from './socket';\r\n\r\nexport const Resultados = ({resultados, isHost}) =>\r\n{\r\n\r\n\tresultados.sort((a,b) => b.votos - a.votos);\r\n\r\n\tconst max = resultados[0].votos;\r\n\tconst unidad = window.innerWidth / (max + 2);\r\n\r\n    return (\r\n\t\t<div>\r\n\t\t\t<div style={{display: \"flex\", flexDirection:\"column\"}}>\r\n\t\t\t\t{\r\n\t\t\t\t\tresultados.map((elem) =>{\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={elem.nombre} style={{textAlign:\"center\", display:\"flex\", flexDirection:\"row\", width: \"100%\", margin:\"1em\"}}>\r\n\t\t\t\t\t\t\t\t<p style={{width: unidad}}>{elem.nombre}</p>\r\n\t\t\t\t\t\t\t\t<div style={{width: unidad * elem.votos, background: \"#07820b\", borderRadius:\"25px\"}}></div>\r\n\t\t\t\t\t\t\t\t<p style={{width: unidad}}>{elem.votos}</p>\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}  \r\n\t\t\t</div>\r\n\t\t\t{isHost && <button onClick={() => socket.emit(\"start round\")}>Siguiente</button>}\r\n\t\t</div>\r\n    )\r\n}","import React from 'react';\r\nimport { Timer } from './grid';\r\n\r\nexport  const Pregunta = ({pregunta, time}) =>\r\n{\r\n    return (\r\n        <div >\r\n            <div style={{borderRadius:\"25px\", backgroundImage: \"url(./bush.png)\", textAlign: \"center\", display:\"flex\", alignItems:\"center\", justifyItems:\"center\", flexDirection:\"column\"}}>\r\n                <h1>Pregunta:</h1>\r\n                <h2> {pregunta} </h2>\r\n            </div>\r\n            <Timer time={time}></Timer>\r\n        </div>\r\n    )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport { Timer } from './grid';\r\nimport {socket} from './socket';\r\n\r\nexport const Respuesta = ({time, personas, setEstado}) =>\r\n{   \r\n    const [respuesta, setRespuesta] = useState(\"\");\r\n\r\n    useEffect(() =>\r\n    {\r\n        const f = () =>\r\n        {      \r\n            socket.emit(\"respuesta\", respuesta);   \r\n            setEstado(\"resultado\")   \r\n        }\r\n        socket.once(\"pedir respuestas\", f)\r\n\r\n        return () => socket.off(\"pedir respuestas\", f)\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <Timer time={time}></Timer>\r\n\r\n            <h1>Introduce la respuesta</h1>\r\n            <ul>\r\n            {\r\n                personas.map((elem) =>\r\n                {\r\n                    return (\r\n                    <li key={elem}>\r\n                        <button onClick={() => setRespuesta(elem)} style={{color: elem === respuesta ? 'green' : 'black'}}>\r\n                            {elem}\r\n                        </button>\r\n                    </li>)\r\n                })\r\n            }            \r\n            </ul>\r\n        </div>       \r\n    )\r\n}","import { React, useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport {Inicio} from \"./pantalla-inicio\"\nimport {Espera} from \"./pantalla-espera\"\nimport {Resultados} from \"./pantalla-resultados\"\nimport { Pregunta } from './pantalla-pregunta';\nimport { Respuesta } from './pantalla-respuesta';\nimport {socket} from './socket';\n\n\nconst App = () =>\n{\n  const personas = [\"Raul\", \"Carlos\", \"Elo\", \"Cabriada\", \"Kanian\", \"Morilla\", \"Candy\", \"Carmen\", \"Dan\", \"Isa\"];\n  const Host = \"Carlos\"\n\n  const [id, setId] = useState(\"\");\n  const [pregunta, setPregunta] = useState(\"\");\n  const [resultados, setResultados] = useState([]);\n  const [estado, setEstado] = useState(\"eligiendo\");\n  const [conectados, setConectados] = useState([]);\n\n  const [time, setTime] = useState(5)\n  \n  useEffect(() =>\n  {  \n    socket.on(\"set conectados\", (c) =>\n    {\n      setConectados(c)\n    })\n\n    socket.on(\"time left\", (t) =>\n    {\n      setTime(t)\n    })\n    socket.on(\"timer done\", () =>\n    {\n      setEstado(\"respuesta\")\n    })\n\n\n    socket.on(\"set pregunta\", (p) =>\n    {\n      setPregunta(p)\n      setEstado(\"pregunta\")\n    })   \n    socket.on(\"set resultados\", (res) =>\n    {\n      setResultados(res)\n    })\n  });\n\n  if(estado === \"eligiendo\")  return (<Inicio personas={personas} conectados={conectados} setId={setId} setEstado={setEstado}></Inicio>)  \n  if(estado === \"esperando\")  return (<Espera conectados={conectados} isHost={id === Host} setId={setId} setEstado={setEstado}></Espera>)\n  if(estado === \"pregunta\")   return (<Pregunta pregunta={pregunta} time={time}></Pregunta>)\n  if(estado === \"respuesta\")  return (<Respuesta time={time} personas={personas} setEstado={setEstado}></Respuesta>)\n  if(estado === \"resultado\")  return (<Resultados resultados={resultados} isHost = {id === Host}></Resultados>)\n}\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}